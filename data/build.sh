#!/usr/bin/env bash
IN_FILE=hygdata_v3.csv
OUT_FILE=data.csv

F_DB_ID=1
F_HIPPARCOS=2
F_DRAPER=3
F_HARVARD=4
F_GLIESE=5
F_BAYER_FLAMSTEED=6
F_PROPER_NAME=7
F_RA_HOURS=8
F_DEC_DEGREES=9
F_DIST_PARSECS=10
F_MOTION_RA=11
F_MOTION_DEC=12
F_RAD_VEL=13
F_MAG=14
F_ABS_MAG=15
F_SPECTRAL=16
F_COLOUR_INDEX=17
F_POS_X=18
F_POS_Y=19
F_POS_Z=20
F_VEL_X=21
F_VEL_Y=22
F_VEL_Z=23
F_RA_RAD=24
F_DEC_RAD=25
F_MOTION_RA_RAD=26
F_MOTION_DEC_RAD=27
F_BAYER=28
F_FLAMSTEED=29
F_CONSTELLATION=30
F_COMPANION_ID=31
F_COMPANION_PRIMARY_ID=32
F_BASE=33
F_LUM=34
F_VAR=35
F_VAR_MIN=36
F_VAR_MIX=37

# Skip header line, and also 2nd line which is the Sun
tail -n +3 $IN_FILE | cut -d',' -f $F_HIPPARCOS,$F_PROPER_NAME,$F_DIST_PARSECS,$F_MAG,$F_ABS_MAG,$F_SPECTRAL,$F_RA_RAD,$F_DEC_RAD,$F_CONSTELLATION > $OUT_FILE

echo `wc -l $OUT_FILE`